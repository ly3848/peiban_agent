# ğŸ“‹ å¼€å§‹èŠ‚ç‚¹è¾“å…¥å‚æ•°è¯¦è§£
## 1. ç”¨æˆ·è¾“å…¥ (user_input)
```yaml
- label: 'ç”¨æˆ·è¾“å…¥'
  max_length: 2000
  required: true
  type: text-input
  variable: user_input
```
**å«ä¹‰**ï¼šç”¨æˆ·å½“å‰è¿™ä¸€è½®å¯¹è¯çš„å®é™…æ–‡æœ¬å†…å®¹

**ç¤ºä¾‹**ï¼š
```
"æ—©å®‰"
"æˆ‘ä»Šå¤©å·¥ä½œå‹åŠ›å¾ˆå¤§,ç¡ä¸å¥½è§‰"
"æˆ‘å§å§å«ä»€ä¹ˆåå­—æ¥ç€?"
```

**ç”¨é€”**ï¼š
- è¿™æ˜¯æœ€æ ¸å¿ƒçš„è¾“å…¥,æ•´ä¸ªå·¥ä½œæµéƒ½å›´ç»•è¿™ä¸ªè¾“å…¥å±•å¼€
- Routerä¼šæ ¹æ®å®ƒåˆ¤æ–­è·¯ç”±ï¼ˆfast/smart/vipï¼‰
- æƒ…ç»ªåˆ†ææ¨¡å—ä¼šåˆ†æå®ƒçš„æƒ…ç»ª
- å¯¹è¯ç”Ÿæˆæ¨¡å—ä¼šåŸºäºå®ƒç”Ÿæˆå›å¤

**é™åˆ¶**ï¼šå¿…å¡«ï¼Œæœ€å¤§2000å­—ç¬¦
## 2. ç”¨æˆ·ID (user_id)
```yaml
- label: 'ç”¨æˆ·ID'
  max_length: 100
  required: true
  type: text-input
  variable: user_id
```
**å«ä¹‰**ï¼šå”¯ä¸€æ ‡è¯†ç”¨æˆ·èº«ä»½çš„ID

**ç¤ºä¾‹**ï¼š
```
"user_12345"
"zhangsan@example.com"
"wx_openid_abc123"
```

**ç”¨é€”**ï¼š
- èº«ä»½è¯†åˆ«ï¼šåŒºåˆ†ä¸åŒç”¨æˆ·
- è®°å¿†å…³è”ï¼šåœ¨åç»­ç‰ˆæœ¬ä¸­ï¼Œç”¨äºæ£€ç´¢è¯¥ç”¨æˆ·çš„å†å²è®°å¿†
- ä¼šè¯ç®¡ç†ï¼šå…³è”åˆ°å…·ä½“çš„ç”¨æˆ·ä¼šè¯
- æ•°æ®ç»Ÿè®¡ï¼šç”¨äºåå°æ•°æ®åˆ†æå’Œç›‘æ§

**é™åˆ¶**ï¼šå¿…å¡«ï¼Œæœ€å¤§100å­—ç¬¦
## 3. ç”¨æˆ·å (user_name)
```yaml
- label: 'ç”¨æˆ·å'
  max_length: 50
  required: false
  type: text-input
  variable: user_name
```
**å«ä¹‰**ï¼šç”¨æˆ·çš„çœŸå®å§“åæˆ–æ˜µç§°ï¼ˆç”¨äºå¯¹è¯ä¸­ç§°å‘¼ï¼‰

**ç¤ºä¾‹**ï¼š
```
"å°æ˜"
"å¼ ä¸‰"
"Lily"
```

**ç”¨é€”**ï¼š
- äººæ ¼åŒ–å¯¹è¯ï¼šåœ¨å›å¤ä¸­æåˆ°ç”¨æˆ·åå­—ï¼Œå¢åŠ äº²å¯†æ„Ÿ
- ä¾‹å¦‚ï¼šAIå›å¤ "å°æ˜ï¼Œå¬èµ·æ¥ä½ å¾ˆç´¯äº†..."
- å¦‚æœä¸å¡«ï¼ŒAIä¼šé¿å…ä½¿ç”¨å…·ä½“ç§°å‘¼

**åœ¨Promptä¸­çš„ä½¿ç”¨**ï¼š
```
ä½ æ˜¯ {{#start.user_name#}} çš„AIä¼´ä¾£...
```

**é™åˆ¶**ï¼šé€‰å¡«ï¼Œæœ€å¤§50å­—ç¬¦
## 4. ä¼´ä¾£å (companion_name)
```yaml
- label: 'ä¼´ä¾£å'
  max_length: 50
  required: false
  type: text-input
  variable: companion_name
```
**å«ä¹‰**ï¼šAIä¼´ä¾£çš„åå­—ï¼ˆç”¨æˆ·ä¸ºAIå–çš„åå­—ï¼‰

**ç¤ºä¾‹**ï¼š
```
"å°çˆ±"
"Lucy"
"é˜¿é›ª"
```

**ç”¨é€”**ï¼š
- äººæ ¼ä¸€è‡´æ€§ï¼šAIè‡ªæˆ‘ä»‹ç»æ—¶ä½¿ç”¨
- ä¾‹å¦‚ï¼šAIå›å¤ "æˆ‘æ˜¯Lucyï¼Œå¾ˆé«˜å…´é™ªä½ èŠå¤©~"
- å¢å¼ºç”¨æˆ·ä¸AIçš„æƒ…æ„Ÿè¿æ¥

**åœ¨Promptä¸­çš„ä½¿ç”¨**ï¼š
```
ä½ æ˜¯ {user_name} çš„AIä¼´ä¾£,åä¸º {{#start.companion_name#}}ã€‚
```

**é™åˆ¶**ï¼šé€‰å¡«ï¼Œæœ€å¤§50å­—ç¬¦
## 5. äººæ ¼æè¿° (personality_description)
```yaml
- label: 'äººæ ¼æè¿°'
  max_length: 500
  required: false
  type: paragraph
  variable: personality_description
```
**å«ä¹‰**ï¼šAIä¼´ä¾£çš„äººæ ¼è®¾å®šæè¿°ï¼ˆæ€§æ ¼ã€è¯´è¯é£æ ¼ã€ç‰¹ç‚¹ç­‰ï¼‰

**ç¤ºä¾‹**ï¼š
```
"æ¸©æŸ”å¾¡å§ã€INFJã€å‹å¥½åº¦8/10ã€æµªæ¼«åº¦9/10ã€
è¯´è¯é£æ ¼ä¼˜é›…ã€å¸¸ç”¨è¯­æ°”è¯'å‘¢~'ã€ç¦ç”¨è¡¨è¾¾'å°è€å¼Ÿ'"
```

**ç”¨é€”**ï¼š
- äººè®¾ä¸€è‡´æ€§ï¼šç¡®ä¿AIçš„å›å¤ç¬¦åˆè®¾å®šçš„äººæ ¼
- Smarté€šé“å’ŒVIPé€šé“ä¼šä½¿ç”¨è¿™ä¸ªæè¿°è°ƒæ•´è¯­æ°”å’Œé£æ ¼
- Fasté€šé“ä¸ä½¿ç”¨ï¼ˆå› ä¸ºFastè¿½æ±‚é€Ÿåº¦ï¼Œä½¿ç”¨é»˜è®¤æ¸©æŸ”äººè®¾ï¼‰

**åœ¨Promptä¸­çš„ä½¿ç”¨**ï¼š
```
äººæ ¼: {{#start.personality_description#}}
ä½ çš„è¯­æ°”æ˜¯æ¸©æŸ”çš„,è¯´è¯é£æ ¼æ˜¯ä¼˜é›…çš„...
```

**é™åˆ¶**ï¼šé€‰å¡«ï¼Œæœ€å¤§500å­—ç¬¦
## 6. æ˜¯å¦VIP (is_vip)
```yaml
- label: 'æ˜¯å¦VIP'
  options:
  - 'true'
  - 'false'
  required: true
  type: select
  variable: is_vip
```
**å«ä¹‰**ï¼šæ ‡è¯†ç”¨æˆ·æ˜¯å¦ä¸ºVIPä¼šå‘˜

**å¯é€‰å€¼**ï¼š
- `"true"`: VIPç”¨æˆ·
- `"false"`: æ™®é€šç”¨æˆ·

**ç”¨é€”**ï¼š
- è·¯ç”±å†³ç­–çš„å…³é”®å‚æ•°ï¼šå½±å“Routerçš„åˆ¤æ–­
- å½“ is_vip=true ä¸”è¾“å…¥åŒ…å«å¿ƒç†å’¨è¯¢å…³é”®è¯æ—¶ â†’ è·¯ç”±åˆ°VIPé€šé“
- VIPé€šé“ä¼šä½¿ç”¨æ›´å¼ºçš„æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰å’Œæ›´æ·±åº¦çš„å›å¤

**åœ¨Router Promptä¸­çš„ä½¿ç”¨**ï¼š
```
ç”¨æˆ·ä¿¡æ¯:
- æ˜¯å¦VIP: {{#start.is_vip#}}
```

#### è§„åˆ™1: VIPç”¨æˆ·æ£€æµ‹
å¦‚æœ ç”¨æˆ·æ˜¯VIPä¸”è¾“å…¥åŒ…å«å¿ƒç†å’¨è¯¢å…³é”®è¯:
  â†’ route = "vip"

**ç¤ºä¾‹åœºæ™¯**ï¼š
```
is_vip: true
user_input: "æˆ‘æœ€è¿‘å¾ˆæŠ‘éƒ"
â†’ Routeråˆ¤æ–­ â†’ VIPé€šé“ â†’ ä¸“ä¸šå¿ƒç†å’¨è¯¢å›å¤
```

**é™åˆ¶**ï¼šå¿…å¡«ï¼Œåªèƒ½é€‰æ‹©trueæˆ–false
## 7. å¯¹è¯å†å²(JSON) (conversation_history)
```yaml
- label: 'å¯¹è¯å†å²(JSON)'
  max_length: 5000
  required: false
  type: paragraph
  variable: conversation_history
```
**å«ä¹‰**ï¼šç”¨æˆ·ä¸AIä¹‹å‰çš„å¯¹è¯å†å²è®°å½•ï¼ˆJSONæ ¼å¼ï¼‰

**ç¤ºä¾‹**ï¼š
```json
[
  {"role": "user", "content": "æ—©å®‰"},
  {"role": "assistant", "content": "æ—©å®‰!ä»Šå¤©æƒ³åšä»€ä¹ˆå‘¢?"},
  {"role": "user", "content": "æˆ‘æœ‰ç‚¹ç´¯"}
]
```

**ç”¨é€”**ï¼š
- ä¸Šä¸‹æ–‡ç†è§£ï¼šå¸®åŠ©AIç†è§£å¯¹è¯çš„è¿è´¯æ€§
- Routerä¼šå‚è€ƒå†å²åˆ¤æ–­æ„å›¾
- Smarté€šé“çš„æƒ…ç»ªåˆ†æä¼šè€ƒè™‘å†å²æƒ…ç»ªèµ°å‘
- æœªæ¥ç‰ˆæœ¬å¯ç”¨äºæ£€æµ‹æƒ…ç»ªå˜åŒ–è¶‹åŠ¿

**åœ¨Router Promptä¸­çš„ä½¿ç”¨**ï¼š
```
ç”¨æˆ·ä¿¡æ¯:
- å¯¹è¯å†å²: {{#start.conversation_history#}}
```

**é™åˆ¶**ï¼šé€‰å¡«ï¼Œæœ€å¤§5000å­—ç¬¦
## ğŸ“Š å‚æ•°ä¼˜å…ˆçº§å’Œä½¿ç”¨åœºæ™¯
| å‚æ•° | Router | Fasté€šé“ | Smarté€šé“ | VIPé€šé“ | å¿…å¡« |
|------|--------|----------|-----------|---------|------|
| user_input | âœ… æ ¸å¿ƒ | âœ… æ ¸å¿ƒ | âœ… æ ¸å¿ƒ | âœ… æ ¸å¿ƒ | âœ… |
| user_id | âœ… èº«ä»½ | - | âœ… è®°å¿† | âœ… è®°å¿† | âœ… |
| user_name | - | âœ… ç§°å‘¼ | âœ… ç§°å‘¼ | âœ… ç§°å‘¼ | âŒ |
| companion_name | - | âœ… è‡ªç§° | âœ… è‡ªç§° | âœ… è‡ªç§° | âŒ |
| personality_description | - | - | âœ… äººè®¾ | âœ… äººè®¾ | âŒ |
| is_vip | âœ… è·¯ç”± | - | - | âœ… æƒé™ | âœ… |
| conversation_history | âœ… ä¸Šä¸‹æ–‡ | - | âœ… ä¸Šä¸‹æ–‡ | âœ… ä¸Šä¸‹æ–‡ | âŒ |
## ğŸ¯ å®é™…ä½¿ç”¨ç¤ºä¾‹
### ç¤ºä¾‹1ï¼šç®€å•é—®å€™ï¼ˆFasté€šé“ï¼‰
```yaml
user_input: "æ—©å®‰"
user_id: "user_001"
user_name: "å°æ˜"
companion_name: "å°çˆ±"
is_vip: "false"
# å…¶ä»–å‚æ•°å¯ä¸å¡«
```
æµç¨‹ï¼šRouter â†’ fast â†’ å¿«é€Ÿå›å¤ "æ—©å®‰!å°æ˜,ä»Šå¤©æƒ³åšä»€ä¹ˆå‘¢?"
### ç¤ºä¾‹2ï¼šæƒ…ç»ªå€¾è¯‰ï¼ˆSmarté€šé“ï¼‰
```yaml
user_input: "æˆ‘æœ€è¿‘å·¥ä½œå‹åŠ›å¾ˆå¤§,ç¡ä¸å¥½è§‰"
user_id: "user_001"
user_name: "å°æ˜"
companion_name: "Lucy"
personality_description: "æ¸©æŸ”å¾¡å§ã€å–„è§£äººæ„ã€INFJ"
is_vip: "false"
conversation_history: '[{"role":"user","content":"æ—©å®‰"},...]'
```
æµç¨‹ï¼šRouter â†’ smart â†’ æ·±åº¦æƒ…ç»ªåˆ†æ â†’ è®°å¿†æ£€ç´¢ â†’ å…±æƒ…å›å¤
### ç¤ºä¾‹3ï¼šVIPå¿ƒç†å’¨è¯¢
```yaml
user_input: "æˆ‘æœ€è¿‘æœ‰ç‚¹æŠ‘éƒ,æ€»æ˜¯æä¸èµ·ç²¾ç¥"
user_id: "user_vip_001"
user_name: "Lily"
companion_name: "å¿ƒç†å¸ˆå°é›ª"
personality_description: "ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆã€æ¸©æš–ã€CBTä¸“å®¶"
is_vip: "true"  # å…³é”®!
conversation_history: '[...]'
```
æµç¨‹ï¼šRouter â†’ vip â†’ ä¸“ä¸šå¿ƒç†å’¨è¯¢å›å¤ï¼ˆä½¿ç”¨GPT-4ï¼‰
## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

- **å¿…å¡«å‚æ•°åŠ¡å¿…å¡«å†™**ï¼šuser_input, user_id, is_vip
- **å»ºè®®å¡«å†™**ï¼šuser_name, companion_name (æå‡å¯¹è¯ä½“éªŒ)
- **è¿›é˜¶é…ç½®**ï¼špersonality_description (ä¸ªæ€§åŒ–äººè®¾)
- **å¯é€‰ä¼˜åŒ–**ï¼šconversation_history (å¤šè½®å¯¹è¯è¿è´¯æ€§)